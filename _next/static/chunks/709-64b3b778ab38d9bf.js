"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[709],{4560:function(e,t,r){r.d(t,{T:function(){return i}});var n=r(2601);let i="https://grupo-visual-api.vercel.app/api/";n.env.STRAPI_URL,n.env.STRAPI_TOKEN},8349:function(e,t,r){r.r(t),r.d(t,{CartProvider:function(){return u},useCart:function(){return c}});var n=r(7437),i=r(2265),l=r(7643),o=r(6113);let a=(0,i.createContext)({cart:[],open:!1,setOpen:e=>{},AddToCart:e=>{},SubFromCart:e=>{},RemoveFromCart:e=>{},CleanCart:()=>{}}),u=e=>{let{children:t}=e,[r,u]=(0,i.useState)([]),[c,d]=(0,i.useState)(!1),{reactPixel:s}=(0,l.useReactPixel)();function m(e){u(r.filter(t=>{var r;return(null==t?void 0:null===(r=t.item)||void 0===r?void 0:r.id)!=e.id}))}return(0,i.useEffect)(()=>{d(!1);let e=JSON.parse(localStorage.getItem("cart")||"[]")||[];u((null==e?void 0:e.length)==void 0?[]:e)},[]),(0,i.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(r)),(null==r?void 0:r.length)||d(!1)},[r]),(0,n.jsx)(a.Provider,{value:{cart:r,AddToCart:function(e){let t=r.find(t=>{var r;return(null==t?void 0:null===(r=t.item)||void 0===r?void 0:r.id)==(null==e?void 0:e.id)}),n=null;if(!t){u(n=r.concat([{item:e,cant:1}])),(0,o.Xq)(s,n);return}n=r.map(e=>{var r,n;return(null==e?void 0:null===(r=e.item)||void 0===r?void 0:r.id)!=(null==t?void 0:null===(n=t.item)||void 0===n?void 0:n.id)?e:{item:e.item,cant:e.cant+1}}),(0,o.Xq)(s,n),u(n)},SubFromCart:function(e){let t=r.find(t=>{var r;return(null==t?void 0:null===(r=t.item)||void 0===r?void 0:r.id)==(null==e?void 0:e.id)});if(t){if((null==t?void 0:t.cant)==1){m(e);return}u(r.map(e=>{var r,n;return(null==e?void 0:null===(r=e.item)||void 0===r?void 0:r.id)!=(null==t?void 0:null===(n=t.item)||void 0===n?void 0:n.id)?e:{item:e.item,cant:e.cant-1}}))}},RemoveFromCart:m,open:c,setOpen:d,CleanCart:function(){u([])}},children:t})},c=()=>(0,i.useContext)(a)},2215:function(e,t,r){r.r(t),r.d(t,{OrderProvider:function(){return o},useOrder:function(){return a}});var n=r(7437),i=r(2265);let l=(0,i.createContext)({setOrderCart:(e,t)=>{},orderCart:null,setOrderEnroll:(e,t)=>{},orderEnroll:null,cleanOrderEnroll:()=>{},cleanOrderCart:()=>{}}),o=e=>{let{children:t}=e,[r,o]=(0,i.useState)(null),[a,u]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("order")||"{}"),t=JSON.parse(localStorage.getItem("order_cart")||"{}");(null==e?void 0:e.orderId)&&o(e),(null==t?void 0:t.orderId)&&u(t)},[]),(0,n.jsx)(l.Provider,{value:{orderCart:a,setOrderCart:function(e,t){localStorage.setItem("order_cart",JSON.stringify({orderId:e,courses:t})),u({orderId:e,courses:t})},orderEnroll:r,setOrderEnroll:function(e,t){localStorage.setItem("order",JSON.stringify({orderId:e,courses:t})),o({orderId:e,courses:t})},cleanOrderCart:function(){u(null),localStorage.removeItem("order_cart")},cleanOrderEnroll:function(){o(null),localStorage.removeItem("order")}},children:t})},a=()=>(0,i.useContext)(l)},7643:function(e,t,r){r.r(t),r.d(t,{ReactPixelProvider:function(){return o},useReactPixel:function(){return a}});var n=r(7437),i=r(2265);let l=(0,i.createContext)({setReactPixel:e=>{},reactPixel:null}),o=e=>{let{children:t}=e,[r,o]=(0,i.useState)(null);return(0,n.jsx)(l.Provider,{value:{reactPixel:r,setReactPixel:o},children:t})},a=()=>(0,i.useContext)(l)},352:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(7437),i=r(2265),l=r(4275),o=r.n(l),a=r(9227),u=(0,r(5843).ZP)(a.Z)(e=>{let{theme:t,ownerState:r}=e,{palette:n,functions:i,borders:l,boxShadows:o}=t,{variant:a,bgColor:u,color:c,opacity:d,borderRadius:s,shadow:m,coloredShadow:f}=r,{gradients:v,grey:g,white:h}=n,{linearGradient:x}=i,{borderRadius:p}=l,{colored:y}=o,C={"grey-100":g[100],"grey-200":g[200],"grey-300":g[300],"grey-400":g[400],"grey-500":g[500],"grey-600":g[600],"grey-700":g[700],"grey-800":g[800],"grey-900":g[900]},S=["transparent","white","black","primary","secondary","info","success","warning","error","light","dark","text","grey-100","grey-200","grey-300","grey-400","grey-500","grey-600","grey-700","grey-800","grey-900"],j=u;j="gradient"===a?["primary","secondary","info","success","warning","error","dark","light"].find(e=>e===u)?x(v[u].main,v[u].state):h.main:S.find(e=>e===u)?n[u]?n[u].main:C[u]:u;let Z=c;S.find(e=>e===c)&&(Z=n[c]?n[c].main:C[c]);let w=s;["xs","sm","md","lg","xl","xxl","section"].find(e=>e===s)&&(w=p[s]);let P="none";return["xs","sm","md","lg","xl","xxl","inset"].find(e=>e===m)?P=o[m]:f&&(P=y[f]?y[f]:"none"),{opacity:d,background:j,color:Z,borderRadius:w,boxShadow:P}});let c=(0,i.forwardRef)((e,t)=>{let{variant:r,bgColor:i,color:l,opacity:o,borderRadius:a,shadow:c,coloredShadow:d,...s}=e;return(0,n.jsx)(u,{...s,ref:t,ownerState:{variant:r,bgColor:i,color:l,opacity:o,borderRadius:a,shadow:c,coloredShadow:d}})});c.defaultProps={variant:"contained",bgColor:"transparent",color:"dark",opacity:1,borderRadius:"none",shadow:"none",coloredShadow:"none"},c.propTypes={variant:o().oneOf(["contained","gradient"]),bgColor:o().string,color:o().string,opacity:o().number,borderRadius:o().string,shadow:o().string,coloredShadow:o().oneOf(["primary","secondary","info","success","warning","error","light","dark","none"])},c.displayName="MKBox";var d=c},1294:function(e,t,r){r.d(t,{Z:function(){return Z}});var n=r(7437),i=r(3226),l=r(3953),o=r(2265),a=r(9804),u=r(6882),c=r(352),d=r(7292),s=r(1414),m=r(4560),f=r(3434),v=r(8874),g=r(4081),h=r(819),x=r(715),p=r(5550),y=r(9222),C=r(7643),S=r(6113),j=r(2215);function Z(e){let{courses:t,handleClose:r,isCart:Z}=e,{reactPixel:w}=(0,C.useReactPixel)(),{setOrderCart:P,setOrderEnroll:O}=(0,j.useOrder)(),[_,R]=(0,o.useState)({name:"",email:""}),b=["name","email"],[k,I]=(0,o.useState)({name:"",email:""});async function N(e){let n,i;e.preventDefault(),T(!0);let l=(n={},i=!1,Object.keys(_).forEach(e=>{let t="";b.includes(e)&&(t=(0,s.l)(_[e])),t||"email"!=e||(t=(0,s.o)(_[e])),t&&(i=!0),n[e]=t}),I(n),i);if(!l){L(!0);try{let e=await y.Z.post(m.T+"buy-courses",{customer:_,courses:t}),n=e.data.checkouts[0].payment_url;if(!n)throw Error("error");Z?P(e.data.id,t):O(e.data.id,t),(0,S.qt)(w,t,_,e.data.id),window.open(n,"_blank"),r()}catch(e){E(!0)}finally{L(!1)}}}let[A,E]=(0,o.useState)(!1),[q,T]=(0,o.useState)(!1),[B,L]=(0,o.useState)(!1);function F(e){R({..._,[e.target.name]:e.target.value});let t=(0,s.l)(e.target.value);t||"email"!=e.target.name||(t=(0,s.o)(e.target.value)),I({...k,[e.target.name]:t})}return(0,n.jsxs)(n.Fragment,{children:[B&&(0,n.jsx)("div",{className:"w-screen z-40  h-screen fixed top-0 left-0 flex justify-center items-center",children:(0,n.jsx)(u.Z,{sx:{color:f.default.dark.main}})}),(0,n.jsx)(d.Z,{open:A,autoHideDuration:6e3,onClose:()=>E(!1),children:(0,n.jsx)(a.Z,{onClose:()=>E(!1),severity:"error",sx:{width:"100%"},variant:"filled",elevation:6,children:"Ocorreu um erro inesperado, comunique-se com nossa equipe"})}),(0,n.jsx)("form",{className:"w-full",children:(0,n.jsx)(c.Z,{width:"100%",component:"form",method:"post",className:"px-0",autoComplete:"off",children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(i.Z,{className:"text-center sm:text-start font-bold",gutterBottom:!0,mb:2,children:"Informe seus dados"}),(0,n.jsxs)(v.ZP,{container:!0,spacing:1.5,children:[(0,n.jsx)(v.ZP,{item:!0,xs:12,children:(0,n.jsxs)(g.Z,{error:!!(q&&k.name),variant:"standard",fullWidth:!0,children:[(0,n.jsx)(h.Z,{htmlFor:"name",children:"Nome Completo"}),(0,n.jsx)(x.Z,{fullWidth:!0,name:"name",onChange:F}),q&&(0,n.jsx)(p.Z,{children:k.name})]})}),(0,n.jsx)(v.ZP,{item:!0,xs:12,children:(0,n.jsxs)(g.Z,{error:!!(q&&k.email),variant:"standard",fullWidth:!0,children:[(0,n.jsx)(h.Z,{htmlFor:"email",children:"Email"}),(0,n.jsx)(x.Z,{fullWidth:!0,type:"email",name:"email",onChange:F}),q&&(0,n.jsx)(p.Z,{children:k.email})]})}),(0,n.jsx)(v.ZP,{container:!0,item:!0,justifyContent:"center",xs:12,mt:4,children:(0,n.jsx)(l.Z,{href:"#",variant:"gradient",color:"dark",fullWidth:!0,onClick:e=>{N(e)},children:"Realizar Pagamento"})})]})]})})})]})}},3490:function(e,t,r){r.d(t,{e:function(){return n}});let n=Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"})},1414:function(e,t,r){r.d(t,{l:function(){return n},o:function(){return i}});let n=e=>e&&e.trim()?"":"Campo obrigat\xf3rio",i=e=>String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?"":"Email inv\xe1lido"},6113:function(e,t,r){r.d(t,{Cz:function(){return n},NW:function(){return a},VO:function(){return c},Xq:function(){return d},af:function(){return v},e_:function(){return m},f9:function(){return u},hP:function(){return f},qt:function(){return s}});let n=795890068897751,i={ViewContent:"ViewContent",AddToCart:"AddToCart",InitiateCheckout:"InitiateCheckout",Purchase:"Purchase"},l=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&e.track(t,r)},o=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&e.trackCustom(t,r)},a=(e,t)=>{o(e,"AtivarSon",t?{video:t}:{})},u=(e,t)=>{o(e,"VerVideo",t?{video:t}:{})},c=(e,t)=>{(null==t?void 0:t.text)&&l(e,i.ViewContent,{contents:[{id:t.text.trim().replaceAll(" ","_"),quantity:1}],content_type:"course",value:t.price||0,currency:"BRL"})},d=(e,t)=>{var r;if(!(null==t?void 0:t.length))return;let n=0;for(let e=0;e<t.length;e++)n+=((null===(r=t[e].item)||void 0===r?void 0:r.price)||0)*t[e].cant;l(e,i.AddToCart,{contents:t.map(e=>({id:e.item.text.trim().replaceAll(" ","_"),quantity:e.cant})),content_type:"course",value:n||0,currency:"BRL"})},s=(e,t,r,n)=>{var o;if(!(null==t?void 0:t.length))return;let a=0;for(let e=0;e<t.length;e++)a+=((null===(o=t[e].item)||void 0===o?void 0:o.price)||0)*t[e].cant;l(e,i.InitiateCheckout,{contents:t.map(e=>({id:e.item.text.trim().replaceAll(" ","_"),quantity:e.cant})),content_type:"course",value:a||0,currency:"BRL",customer:r,orderId:n,orderId:n})},m=(e,t)=>{var r;if(!(null==t?void 0:t.length))return;let n=0;for(let e=0;e<t.length;e++)n+=((null===(r=t[e].item)||void 0===r?void 0:r.price)||0)*t[e].cant;l(e,i.Purchase,{contents:t.map(e=>({id:e.item.text.trim().replaceAll(" ","_"),quantity:e.cant})),content_type:"course",value:n||0,currency:"BRL"})},f=(e,t)=>{var r;if(!(null==t?void 0:t.length))return;let n=0;for(let e=0;e<t.length;e++)n+=((null===(r=t[e].item)||void 0===r?void 0:r.price)||0)*t[e].cant;o(e,"ViuCarrinho",{contents:t.map(e=>({id:e.item.text.trim().replaceAll(" ","_"),quantity:e.cant})),content_type:"course",value:n||0,currency:"BRL"})},v=(e,t)=>{o(e,"Matricula",{contents:[{id:t.text.trim().replaceAll(" ","_"),quantity:1}],content_type:"course",value:t.price||0,currency:"BRL"})}}}]);