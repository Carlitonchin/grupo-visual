"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[709],{4560:function(e,t,n){n.d(t,{T:function(){return l}});var r=n(2601);let l="https://grupo-visual-api.vercel.app/api/";r.env.STRAPI_URL,r.env.STRAPI_TOKEN},8349:function(e,t,n){n.r(t),n.d(t,{CartProvider:function(){return u},useCart:function(){return c}});var r=n(7437),l=n(2265),i=n(7643),o=n(6113);let a=(0,l.createContext)({cart:[],open:!1,setOpen:e=>{},AddToCart:e=>{},SubFromCart:e=>{},RemoveFromCart:e=>{},CleanCart:()=>{}}),u=e=>{let{children:t}=e,[n,u]=(0,l.useState)([]),[c,d]=(0,l.useState)(!1),{reactPixel:s}=(0,i.useReactPixel)();function m(e){u(n.filter(t=>{var n;return(null==t?void 0:null===(n=t.item)||void 0===n?void 0:n.id)!=e.id}))}return(0,l.useEffect)(()=>{d(!1);let e=JSON.parse(localStorage.getItem("cart")||"[]")||[];u((null==e?void 0:e.length)==void 0?[]:e)},[]),(0,l.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(n)),(null==n?void 0:n.length)||d(!1)},[n]),(0,r.jsx)(a.Provider,{value:{cart:n,AddToCart:function(e){let t=n.find(t=>{var n;return(null==t?void 0:null===(n=t.item)||void 0===n?void 0:n.id)==(null==e?void 0:e.id)}),r=null;if(!t){u(r=n.concat([{item:e,cant:1}])),(0,o.Xq)(s,r);return}r=n.map(e=>{var n,r;return(null==e?void 0:null===(n=e.item)||void 0===n?void 0:n.id)!=(null==t?void 0:null===(r=t.item)||void 0===r?void 0:r.id)?e:{item:e.item,cant:e.cant+1}}),(0,o.Xq)(s,r),u(r)},SubFromCart:function(e){let t=n.find(t=>{var n;return(null==t?void 0:null===(n=t.item)||void 0===n?void 0:n.id)==(null==e?void 0:e.id)});if(t){if((null==t?void 0:t.cant)==1){m(e);return}u(n.map(e=>{var n,r;return(null==e?void 0:null===(n=e.item)||void 0===n?void 0:n.id)!=(null==t?void 0:null===(r=t.item)||void 0===r?void 0:r.id)?e:{item:e.item,cant:e.cant-1}}))}},RemoveFromCart:m,open:c,setOpen:d,CleanCart:function(){u([])}},children:t})},c=()=>(0,l.useContext)(a)},2215:function(e,t,n){n.r(t),n.d(t,{OrderProvider:function(){return o},useOrder:function(){return a}});var r=n(7437),l=n(2265);let i=(0,l.createContext)({setOrderCart:(e,t)=>{},orderCart:null,setOrderEnroll:(e,t)=>{},orderEnroll:null,cleanOrderEnroll:()=>{},cleanOrderCart:()=>{}}),o=e=>{let{children:t}=e,[n,o]=(0,l.useState)(null),[a,u]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("order")||"{}"),t=JSON.parse(localStorage.getItem("order_cart")||"{}");(null==e?void 0:e.orderId)&&o(e),(null==t?void 0:t.orderId)&&u(t)},[]),(0,r.jsx)(i.Provider,{value:{orderCart:a,setOrderCart:function(e,t){localStorage.setItem("order_cart",JSON.stringify({orderId:e,courses:t})),u({orderId:e,courses:t})},orderEnroll:n,setOrderEnroll:function(e,t){localStorage.setItem("order",JSON.stringify({orderId:e,courses:t})),o({orderId:e,courses:t})},cleanOrderCart:function(){u(null),localStorage.removeItem("order_cart")},cleanOrderEnroll:function(){o(null),localStorage.removeItem("order")}},children:t})},a=()=>(0,l.useContext)(i)},7643:function(e,t,n){n.r(t),n.d(t,{ReactPixelProvider:function(){return o},useReactPixel:function(){return a}});var r=n(7437),l=n(2265);let i=(0,l.createContext)({setReactPixel:e=>{},reactPixel:null}),o=e=>{let{children:t}=e,[n,o]=(0,l.useState)(null);return(0,r.jsx)(i.Provider,{value:{reactPixel:n,setReactPixel:o},children:t})},a=()=>(0,l.useContext)(i)},1294:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(7437),l=n(3226),i=n(3953),o=n(2265),a=n(9804),u=n(6882),c=n(352),d=n(7292),s=n(1414),m=n(4560),f=n(3434),v=n(8874),h=n(4081),x=n(819),p=n(715),C=n(5550),g=n(9222),y=n(7643),S=n(6113),j=n(2215);function _(e){let{courses:t,handleClose:n,isCart:_}=e,{reactPixel:P}=(0,y.useReactPixel)(),{setOrderCart:Z,setOrderEnroll:O}=(0,j.useOrder)(),[R,I]=(0,o.useState)({name:"",email:""}),A=["name","email"],[N,k]=(0,o.useState)({name:"",email:""});async function E(e){let r,l;e.preventDefault(),T(!0);let i=(r={},l=!1,Object.keys(R).forEach(e=>{let t="";A.includes(e)&&(t=(0,s.l)(R[e])),t||"email"!=e||(t=(0,s.o)(R[e])),t&&(l=!0),r[e]=t}),k(r),l);if(!i){L(!0);try{let e=await g.Z.post(m.T+"buy-courses",{customer:R,courses:t}),r=e.data.checkouts[0].payment_url;if(!r)throw Error("error");_?Z(e.data.id,t):O(e.data.id,t),(0,S.qt)(P,t,R,e.data.id),window.open(r,"_blank"),n()}catch(e){q(!0)}finally{L(!1)}}}let[w,q]=(0,o.useState)(!1),[b,T]=(0,o.useState)(!1),[B,L]=(0,o.useState)(!1);function F(e){I({...R,[e.target.name]:e.target.value});let t=(0,s.l)(e.target.value);t||"email"!=e.target.name||(t=(0,s.o)(e.target.value)),k({...N,[e.target.name]:t})}return(0,r.jsxs)(r.Fragment,{children:[B&&(0,r.jsx)("div",{className:"w-screen z-40  h-screen fixed top-0 left-0 flex justify-center items-center",children:(0,r.jsx)(u.Z,{sx:{color:f.default.dark.main}})}),(0,r.jsx)(d.Z,{open:w,autoHideDuration:6e3,onClose:()=>q(!1),children:(0,r.jsx)(a.Z,{onClose:()=>q(!1),severity:"error",sx:{width:"100%"},variant:"filled",elevation:6,children:"Ocorreu um erro inesperado, comunique-se com nossa equipe"})}),(0,r.jsx)("form",{className:"w-full",children:(0,r.jsx)(c.Z,{width:"100%",component:"form",method:"post",className:"px-0",autoComplete:"off",children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(l.Z,{className:"text-center sm:text-start font-bold",gutterBottom:!0,mb:2,children:"Informe seus dados"}),(0,r.jsxs)(v.ZP,{container:!0,spacing:1.5,children:[(0,r.jsx)(v.ZP,{item:!0,xs:12,children:(0,r.jsxs)(h.Z,{error:!!(b&&N.name),variant:"standard",fullWidth:!0,children:[(0,r.jsx)(x.Z,{htmlFor:"name",children:"Nome Completo"}),(0,r.jsx)(p.Z,{fullWidth:!0,name:"name",onChange:F}),b&&(0,r.jsx)(C.Z,{children:N.name})]})}),(0,r.jsx)(v.ZP,{item:!0,xs:12,children:(0,r.jsxs)(h.Z,{error:!!(b&&N.email),variant:"standard",fullWidth:!0,children:[(0,r.jsx)(x.Z,{htmlFor:"email",children:"Email"}),(0,r.jsx)(p.Z,{fullWidth:!0,type:"email",name:"email",onChange:F}),b&&(0,r.jsx)(C.Z,{children:N.email})]})}),(0,r.jsx)(v.ZP,{container:!0,item:!0,justifyContent:"center",xs:12,mt:4,children:(0,r.jsx)(i.Z,{href:"#",variant:"gradient",color:"dark",fullWidth:!0,onClick:e=>{E(e)},children:"Realizar Pagamento"})})]})]})})})]})}},3490:function(e,t,n){n.d(t,{e:function(){return r}});let r=Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"})},1414:function(e,t,n){n.d(t,{l:function(){return r},o:function(){return l}});let r=e=>e&&e.trim()?"":"Campo obrigat\xf3rio",l=e=>String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?"":"Email inv\xe1lido"},6113:function(e,t,n){n.d(t,{Cz:function(){return r},NW:function(){return a},VO:function(){return c},Xq:function(){return d},af:function(){return v},e_:function(){return m},f9:function(){return u},hP:function(){return f},qt:function(){return s}});let r=795890068897751,l={ViewContent:"ViewContent",AddToCart:"AddToCart",InitiateCheckout:"InitiateCheckout",Purchase:"Purchase"},i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&e.track(t,n)},o=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&e.trackCustom(t,n)},a=(e,t)=>{o(e,"AtivarSon",t?{video:t}:{})},u=(e,t)=>{o(e,"VerVideo",t?{video:t}:{})},c=(e,t)=>{(null==t?void 0:t.text)&&i(e,l.ViewContent,{contents:[{id:t.text.trim().replaceAll(" ","_"),quantity:1}],content_type:"course",value:t.price||0,currency:"BRL"})},d=(e,t)=>{var n;if(!(null==t?void 0:t.length))return;let r=0;for(let e=0;e<t.length;e++)r+=((null===(n=t[e].item)||void 0===n?void 0:n.price)||0)*t[e].cant;i(e,l.AddToCart,{contents:t.map(e=>({id:e.item.text.trim().replaceAll(" ","_"),quantity:e.cant})),content_type:"course",value:r||0,currency:"BRL"})},s=(e,t,n,r)=>{var o;if(!(null==t?void 0:t.length))return;let a=0;for(let e=0;e<t.length;e++)a+=((null===(o=t[e].item)||void 0===o?void 0:o.price)||0)*t[e].cant;i(e,l.InitiateCheckout,{contents:t.map(e=>({id:e.item.text.trim().replaceAll(" ","_"),quantity:e.cant})),content_type:"course",value:a||0,currency:"BRL",customer:n,orderId:r,orderId:r})},m=(e,t)=>{var n;if(!(null==t?void 0:t.length))return;let r=0;for(let e=0;e<t.length;e++)r+=((null===(n=t[e].item)||void 0===n?void 0:n.price)||0)*t[e].cant;i(e,l.Purchase,{contents:t.map(e=>({id:e.item.text.trim().replaceAll(" ","_"),quantity:e.cant})),content_type:"course",value:r||0,currency:"BRL"})},f=(e,t)=>{var n;if(!(null==t?void 0:t.length))return;let r=0;for(let e=0;e<t.length;e++)r+=((null===(n=t[e].item)||void 0===n?void 0:n.price)||0)*t[e].cant;o(e,"ViuCarrinho",{contents:t.map(e=>({id:e.item.text.trim().replaceAll(" ","_"),quantity:e.cant})),content_type:"course",value:r||0,currency:"BRL"})},v=(e,t)=>{o(e,"Matricula",{contents:[{id:t.text.trim().replaceAll(" ","_"),quantity:1}],content_type:"course",value:t.price||0,currency:"BRL"})}}}]);